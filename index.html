<!DOCTYPE html>
<html>
  <head>
    <title>Drinkr</title>
    <meta name="viewport" content="width=device-width,
                                   initial-scale=1.0,
                                   maximum-scale=1.0,
                                   user-scalable=no,
                                   minimal-ui">
    <link rel="stylesheet" href="app.min.css">
	<link href="https://fonts.googleapis.com/css2?family=Gruppo&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://kit.fontawesome.com/03e8544d2e.js" crossorigin="anonymous"></script>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet">
	<style type="text/css">
		html, body {
			
			height: 100%;
			margin:0px;
			padding:0px;
			
			
		}
		
		i {
		
			margin-right:10px;
		
		}
		
		button {
		
			margin-left:10px; 
		
		}
		.addPad {
		
			margin-right:10px;
		
		}
		.navbar-brand {
		
			font-family: 'Luckiest Guy', cursive;
			font-weight:bold;
			font-size:35px;
		
		}
		.dat-font {
			
			font-family: 'Luckiest Guy', cursive;
		
		}
				
		.container {
		
			text-align:center;
						
		}	
		
		.jumbotron {
			
			background-color:rgba(0,0,0,0.0); !important;
			
		}
	  
		.error {
			
			color:red;
			font-weight:bold;
			text-align:center;
			
		}
	  
    </style>
  </head>
  <body>
   <div class="app-page" data-page="home">
		<nav style="text-align:center !important;" class="navbar navbar-expand-lg navbar-light bg-light">
		  <a class="navbar-brand"><span class="addPad">Drinkr</span><i class="fas fa-wine-glass-alt"></i><i class="fas fa-glass-martini"></i> <i class="fas fa-beer"></i></a>
		 
		</nav>
		<div style="background-color:#212121" class="wrapper h-100 w-100">

			<div class="container h-100 d-flex">
			   
			   <div class="jumbotron mx-auto">
				
					<h1 class="display-4 text-white dat-font">Welcome to Drinkr!</h1>
					
					<form id="playerNames">
					 
						<div class="form-group">
					
							<p class="lead text-white">Please enter each player's name below</p>
							<small class="text-white">Doesn't have to be accurate...You could make someone's name buttfuck jones idc</small>							
							
						</div>
					
						<p id="errorMessage" class="error"></p>
						
						<div class="row">
							<div class="col-lg-12">
								<div id="inputFormRow">
									<div class="input-group mb-3">
										<input type="text" name="title[]" class="form-control m-input iAmHere" placeholder="Your Name Here" autocomplete="off">
										 
										<div class="input-group-append">                
											
										</div>
									</div>
								</div>

								<div id="newRow"></div>
							</div>
						</div>
						<div class="row">
									<button id="addRow" type="button" class="btn btn-success my-2 my-sm-0 col"><i class="fas fa-plus"></i>Player</button>
									<button id="letsGo" type="submit" class="btn btn-primary my-2 my-sm-0 col"><i class="fas fa-play"></i>Get Drunk!</button>
						</div>
					</form>
					
			   </div>

			</div>
			
		</div>
	
	</div>
	
	<div class="app-page" data-page="game">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
		  <a class="navbar-brand" href="#"><span class="addPad">Drinkr</span><i class="fas fa-wine-glass-alt"></i><i class="fas fa-glass-martini"></i> <i class="fas fa-beer"></i></a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		  </button>

		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav mr-auto">
			  
			</ul>
			<form class="form-inline my-2 my-lg-0">
			  <button id="inGameAddPlayer" class="btn btn-success my-2 my-sm-0"><i class="fas fa-plus"></i>Add Player</button>
			  <button id="stopGame" class="btn btn-danger my-2 my-sm-0"><i class="fas fa-stop"></i>End Game</button>
			</form>
		  </div>
		</nav>
		<div id="gameBoard" style="background-color:#0083B7" class="wrapper h-100 w-100">

			<div class="container h-100 d-flex">
			   
			   <div class="jumbotron mx-auto my-auto">
				
					<h3 class="text-white dat-font" id="cards">Hey, How Ya'll doing? I'm sure you know how this works. If you don't start by tapping the screen. You'll probably be able to pick it up from there. If you can't drinking games are probably the least of your worries. Enjoy!</h3>
				
				</div>
			
			</div>
			
		</div>
		
	</div>
	
    <script src="zepto.js"></script>
    <script src="app.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <script>
	
	App.load('home');
		
	// add row
    $("#addRow").click(function () {
		if ($('.iAmHere').length < 10) { 
			var html = '';
			html += '<div id="inputFormRow">';
			html += '<div class="input-group mb-3">';
			html += '<input type="text" name="title[]" class="form-control m-input iAmHere" placeholder="Your Name Here" autocomplete="off">';
			html += '<div class="input-group-append">';
			html += '<button id="removeRow" type="button" class="btn btn-danger">Kick Em Out</button>';
			html += '</div>';
			html += '</div>';

			$('#newRow').append(html);
		
		} else {
		
			$("#addRow").addClass("d-none");
		
		}
    });

    // remove row
    $(document).on('click', '#removeRow', function () {
        $(this).closest('#inputFormRow').remove();
		$("#addRow").removeClass("d-none");
    });
	
	$("#letsGo").click(function (event) {
		event.preventDefault();
		
		var l = $('.iAmHere').length;
		
		var players = [];
		for (i = 0; i < l; i++) { 
		 
		  players.push($('.iAmHere').eq(i).val());
		}
	
		console.log(players);
		
		if (players == 0) {
			
			$("#errorMessage").text("");
			
		} else {
			
			App.load('game');
			
		}
		
			
			$("#stopGame").click(function (event) {
				event.preventDefault();
				 if (confirm('Are You Sure You Want to End the Game?')) {
					  window.location.reload();
				   }
				
				});
			
			$("#inGameAddPlayer").click(function (event) {
				event.preventDefault();
				
				  var name;
				  var person = prompt("Who's Joining Us?:", "");
				  if (person == null || person == "") {
					
				  } else {
					players.push(person);
					console.log(players);
				  }
				 
				
				
				});
		    
		    function getRandomPlayer() {
				
					const random = Math.floor(Math.random() * players.length);
					var person = players[random];
					return person;
						
				}
		    
			var nameBasedCards = [
			    
			" if you're wearing something blue drink 3 times. All articles of clothing and jewelry count. If you're wearing nothing blue give out three drinks.",
			" if you can name the song playing right now give out two drinks, if you can't then drink them. If there's no song playing tyhen double it...weirdos. Who drinks without music?",
			" give out three drinks",
			" drink twice",
			" is chef, you must respond to them with 'yes Chef' or no 'Chef' from now on. Chef feel free to throw some Gordon Ramsey caliber insults into the mix",
			" give each player a dollar or drink for each player in the room.",
			" drink for the second digit in your age. Ex: if you're 25 drink five times (also get your life together).",
			" It's rhyme time. Think of a word then go around the room and rhyme with it. The first person to mess up will have to drink 5 times",
			" has three bullets. Each bullet is worth three drinks. You can fire them whenever you'd like.",
			
			]
			
			for(var i=0;i<nameBasedCards.length;i++){
                nameBasedCards[i]=getRandomPlayer() + nameBasedCards[i];
            }
			
			var cards = [
			
			"Everyone in the room who has an even birthday drink three times.",
			"If You've Ever been to Chicago drink twice.",
			"The first person to name five state capitals can pass out 7 drinks.",
			
			];
			
			var newCardArray = cards.concat(nameBasedCards);
			
			function shuffle(array) {
				var currentIndex = array.length, temporaryValue, randomIndex;
				while (0 !== currentIndex) {
					randomIndex = Math.floor(Math.random() * currentIndex);
					currentIndex -= 1;
					temporaryValue = array[currentIndex];
					array[currentIndex] = array[randomIndex];
					array[randomIndex] = temporaryValue;
				}
				return array;
			}
					
			$("#gameBoard").click(function () {
				shuffle(newCardArray);
				$('#cards').html(newCardArray.pop());	
				if ($("#cards").val(" is chef, you must respond to them with 'yes Chef' or no 'Chef' from now on. Chef feel free to throw some Gordon Ramsey caliber insults into the mix")) {
				    newCardArray.push("The Chef has been thrown the f%#k out! You don't have to refer to them as Chef anymore. They can still insult you if they feel like it I don't care.")
				}
			});
		});
		
	
    </script>
  </body>
</html>
